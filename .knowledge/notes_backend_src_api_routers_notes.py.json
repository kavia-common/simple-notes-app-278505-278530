{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI routes for CRUD operations on notes, including listing, retrieving, creating, updating, and deleting notes. It uses dependency injection for the NoteService and defines the API endpoints with detailed metadata and docstrings.", "external_files": ["../repository", "../schemas", "../service"], "external_methods": ["get_service", "service.list_notes", "service.get_note", "service.create_note", "service.update_note", "service.delete_note"], "published": ["router", "get_service"], "classes": [], "methods": [{"name": "NoteService get_service()", "description": "Provides a singleton instance of NoteService, initializing it with an in-memory repository if not already created.", "scope": "", "scopeKind": ""}, {"name": "Note create_note(payload: NoteCreate, service: NoteService = Depends(get_service))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Response delete_note(note_id: UUID, service: NoteService = Depends(get_service))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Note get_note(note_id: UUID, service: NoteService = Depends(get_service))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[Note] list_notes( q: str | None = Query(default=None, description=\"Optional title substring filter\"), service: NoteService = Depends(get_service), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Note update_note(note_id: UUID, payload: NoteUpdate, service: NoteService = Depends(get_service))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["InMemoryNoteRepository", "NoteService", "service.list_notes", "service.get_note", "service.create_note", "service.update_note", "service.delete_note"], "search-terms": ["Notes CRUD FastAPI router", "notes.py", "get_service", "NoteService singleton", "FastAPI route dependencies", "notes API endpoints"], "state": 2, "file_id": 11, "knowledge_revision": 34, "git_revision": "fe783052f6907786b89853355fadcc90d0a6d8bd", "revision_history": [{"28": ""}, {"32": "f50a1829b214604ffd3f739c049ef789a0d1936e"}, {"33": "fe783052f6907786b89853355fadcc90d0a6d8bd"}, {"34": "fe783052f6907786b89853355fadcc90d0a6d8bd"}], "ctags": [{"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^def create_note(payload: NoteCreate, service: NoteService = Depends(get_service)) -> Note:$/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "(payload: NoteCreate, service: NoteService = Depends(get_service))"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^def delete_note(note_id: UUID, service: NoteService = Depends(get_service)) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "(note_id: UUID, service: NoteService = Depends(get_service))"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^def get_note(note_id: UUID, service: NoteService = Depends(get_service)) -> Note:$/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "(note_id: UUID, service: NoteService = Depends(get_service))"}, {"_type": "tag", "name": "get_service", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^def get_service() -> NoteService:$/", "language": "Python", "typeref": "typename:NoteService", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^def list_notes($/", "language": "Python", "typeref": "typename:List[Note]", "kind": "function", "signature": "( q: str | None = Query(default=None, description=\"Optional title substring filter\"), service: NoteService = Depends(get_service), )"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^router = APIRouter(prefix=\"\\/notes\", tags=[\"Notes\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-278505-278530/notes_backend/src/api/routers/notes.py", "pattern": "/^def update_note(note_id: UUID, payload: NoteUpdate, service: NoteService = Depends(get_service))/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "(note_id: UUID, payload: NoteUpdate, service: NoteService = Depends(get_service))"}], "hash": "a7f71b71568b385e89d982e943559185", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/routers/notes.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/notes\", tags=[\"Notes\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}